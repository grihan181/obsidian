**Write concern** — это настройка, определяющая, сколько узлов должны подтвердить запись, чтобы она считалась успешной. Это баланс между скоростью записи и безопасностью данных.

- Пример: `w=1` означает, что запись считается успешной, если она зафиксирована на основном узле.

**Read concern** — это настройка, определяющая, какова консистенция данных при чтении. Например, можно настроить чтение только из узла, который гарантированно получил все последние изменения.

- Пример: `local`, `majority` — уровни согласованности при чтении.
MongoDB поддерживает несколько уровней `read concern`:

1. **"local"** (по умолчанию):
    
    - Запрос читает самые последние данные, доступные на узле, с которого выполняется чтение, даже если они ещё не были реплицированы на другие узлы.
    - Может возвращать данные, которые не будут восстановлены при сбое, поскольку они могут быть только на одном узле.
2. **"majority"**:
    
    - Запрос читает только те данные, которые были записаны и подтверждены большинством узлов в репликации.
    - Обеспечивает высокий уровень согласованности, так как данные гарантированно будут сохранены при сбое.
3. **"linearizable"**:
    
    - Обеспечивает сильнейшую консистентность, но с большей задержкой. Чтение происходит после того, как запрос записи был завершен на **primary** и подтвержден **majority** реплик.
    - Используется для случаев, когда важно видеть самые последние данные на момент чтения.
4. **"available"**:
    
    - Возвращает данные с любого доступного узла, даже если они не реплицированы или не подтверждены.
    - Это наименее строгий уровень консистентности, используется для быстрого доступа к данным, даже при сетевых разделах.